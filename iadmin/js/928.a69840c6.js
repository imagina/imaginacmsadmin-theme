"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[928],{70928:(e,l,a)=>{a.r(l),a.d(l,{default:()=>w});var t=a(92444),s=a(74044);const i={class:"box"};function d(e,l,a,d,o,m){const r=(0,t.E1)("q-item-label"),n=(0,t.E1)("file-list"),f=(0,t.E1)("q-item-section"),u=(0,t.E1)("q-item"),c=(0,t.E1)("q-list"),p=(0,t.E1)("master-modal");return(0,t.Wz)(),(0,t.Az)(p,{modelValue:e.modal.show,"onUpdate:modelValue":l[0]||(l[0]=l=>e.modal.show=l),onHide:l[1]||(l[1]=l=>e.resetModal()),title:e.modal.lead?e.modal.lead.form.title:""},{default:(0,t.Ql)((()=>[(0,t.QD)("div",i,[(0,t.K2)(c,{separator:"",dense:""},{default:(0,t.Ql)((()=>[((0,t.Wz)(!0),(0,t.An)(t.ae,null,(0,t.mi)(e.showLeadItems,((e,l)=>((0,t.Wz)(),(0,t.Az)(u,{key:l,style:{padding:"8px 0"}},{default:(0,t.Ql)((()=>[(0,t.K2)(f,null,{default:(0,t.Ql)((()=>["media"!=e.fieldType?((0,t.Wz)(),(0,t.Az)(r,{key:0},{default:(0,t.Ql)((()=>[(0,t.mY)((0,s.WA)(e.label),1)])),_:2},1024)):(0,t.g1)("",!0),"media"==e.fieldType?((0,t.Wz)(),(0,t.Az)(r,{key:1},{default:(0,t.Ql)((()=>[(0,t.K2)(n,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,"grid-col-class":"col-12","hide-header":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)):((0,t.Wz)(),(0,t.Az)(r,{key:2,caption:""},{default:(0,t.Ql)((()=>[(0,t.mY)((0,s.WA)(e.value),1)])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])),_:1},8,["modelValue","title"])}var o=a(98724),m=(a(23816),a(75836)),r=a(8932),n=a(18528)["c"];function f(){const e=(0,r.cB)(),l=(0,m.IL)({show:!1,lead:!1}),s=()=>{l.value={show:!1,lead:!1}},i=(0,t.S6)((()=>({crudId:e,entityName:n("main.qform.entityNames.lead"),apiRoute:"apiRoutes.qform.leads",permission:"iforms.leads",extraFormFields:"iforms.crud-fields.leads",create:!1,read:{columns:[{name:"id",label:r._s.tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"formName",label:r._s.tr("iforms.cms.form.form"),field:e=>e,align:"left",format:e=>e.form?e.form.title:r._s.trp("iforms.cms.form.formNotExist",{id:e.formId})},{name:"assignedTo",label:r._s.tr("isite.cms.form.assignedTo"),field:"assignedTo",align:"left",format:e=>e?e.fullName:"-"},{name:"values",label:r._s.trp("isite.cms.label.data"),field:"values",align:"left",classes:"ellipsis",style:"max-width : 350px",format:e=>e?Object.values(e).join(", "):""},{name:"createdAt",label:r._s.tr("isite.cms.form.createdAt"),field:"createdAt",format:e=>e?r._s.trd(e):"-",align:"left",sortable:!0},{name:"updatedAt",label:r._s.tr("isite.cms.form.updatedAt"),field:"updatedAt",format:e=>e?r._s.trd(e):"-",align:"left",sortable:!0},{name:"actions",label:r._s.tr("isite.cms.form.actions"),align:"right"}],requestParams:{include:"form,assignedTo,files",filter:{order:{field:"created_at",way:"desc"}}},filters:{formId:{value:null,type:"select",props:{label:r._s.tr("iforms.cms.form.form"),clearable:!0},loadOptions:{apiRoute:"apiRoutes.qform.forms",select:{label:"title",id:"id"}}}},actions:[{name:"viewLead",icon:"fas fa-eye",color:"info",tooltip:r._s.tr("isite.cms.label.view"),action:e=>{l.value.lead=e,l.value.show=!0}}]},update:!0,delete:!1,formLeft:{id:{value:""},assignedToId:{value:null,type:"crud",props:{crudType:"select",crudData:a.e(6624).then(a.bind(a,46624)),crudProps:{label:`${r._s.trp("isite.cms.form.assignedTo")}`},config:{options:{label:"fullName",value:"id"}}}}}}))),d=(0,t.S6)((()=>r.is.state.qcrudComponent.component[e]||{})),o=(0,t.S6)((()=>{const a=[];if(l.value.lead){const t=(0,r.ct)(l.value.lead.values||[]),s=(0,r.ct)(l.value.lead.files);(0,r.ct)(l.value.lead.form.fields).forEach((l=>{const i=l.dynamicField&&l.dynamicField.type||"input",d=t[l.name]||"-",o="media"!=i?null:s.find((e=>e.zone==d.split("/").pop()));a.push({...l,label:l.label,value:"media"!=i?d:[{id:e,...o,path:d,mediumThumb:d,filename:l.label}],fieldType:i})}))}return a}));return{crudId:e,modal:l,resetModal:s,crudData:i,crudInfo:d,showLeadItems:o}}const u={components:{fileList:o.c},setup(){return{...f()}}};var c=a(68716),p=a(99588),b=a(84884),v=a(11032),_=a(2992),h=a(95252),y=a.n(h);const g=(0,c.c)(u,[["render",d]]),w=g;y()(u,"components",{QList:p.c,QItem:b.c,QItemSection:v.c,QItemLabel:_.c})}}]);