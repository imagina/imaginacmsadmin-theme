"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[5277],{67658:(e,l,a)=>{a.r(l),a.d(l,{default:()=>k});var t=a(61758),i=a(58790);const d={class:"box"};function o(e,l,a,o,s,r){const m=(0,t.g2)("q-item-label"),u=(0,t.g2)("file-list"),n=(0,t.g2)("q-item-section"),f=(0,t.g2)("q-item"),c=(0,t.g2)("q-list"),p=(0,t.g2)("master-modal");return(0,t.uX)(),(0,t.Wv)(p,{modelValue:e.modal.show,"onUpdate:modelValue":l[0]||(l[0]=l=>e.modal.show=l),onHide:l[1]||(l[1]=l=>e.resetModal()),title:e.modal.lead?e.modal.lead.form.title:""},{default:(0,t.k6)((()=>[(0,t.Lk)("div",d,[(0,t.bF)(c,{separator:"",dense:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.showLeadItems,((e,l)=>((0,t.uX)(),(0,t.Wv)(f,{key:l,style:{padding:"8px 0"}},{default:(0,t.k6)((()=>[(0,t.bF)(n,null,{default:(0,t.k6)((()=>["media"!=e.fieldType?((0,t.uX)(),(0,t.Wv)(m,{key:0},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.label),1)])),_:2},1024)):(0,t.Q3)("",!0),"media"==e.fieldType?((0,t.uX)(),(0,t.Wv)(m,{key:1},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,"grid-col-class":"col-12","hide-header":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)):((0,t.uX)(),(0,t.Wv)(m,{key:2,caption:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.value),1)])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])),_:1},8,["modelValue","title"])}var s=a(15409),r=(a(10239),a(38734)),m=a(71915),u=a(99526)["A"];function n(){const e=(0,m.Ld)(),l=(0,r.KR)({show:!1,lead:!1}),i=()=>{l.value={show:!1,lead:!1}},d=(0,t.EW)((()=>({crudId:e,entityName:u("main.qform.entityNames.lead"),apiRoute:"apiRoutes.qform.leads",permission:"iforms.leads",extraFormFields:"iforms.crud-fields.leads",create:!1,read:{columns:[{name:"id",label:m.Ru.tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"formName",label:m.Ru.tr("iforms.cms.form.form"),field:e=>e,align:"left",format:e=>e.form?e.form.title:m.Ru.trp("iforms.cms.form.formNotExist",{id:e.formId})},{name:"assignedTo",label:m.Ru.tr("isite.cms.form.assignedTo"),field:"assignedTo",align:"left",format:e=>e?e.fullName:"-"},{name:"values",label:m.Ru.trp("isite.cms.label.data"),field:"values",align:"left",classes:"ellipsis",style:"max-width : 350px",format:e=>e?Object.values(e).join(", "):""},{name:"createdAt",label:m.Ru.tr("isite.cms.form.createdAt"),field:"createdAt",format:e=>e?m.Ru.trd(e):"-",align:"left",sortable:!0},{name:"updatedAt",label:m.Ru.tr("isite.cms.form.updatedAt"),field:"updatedAt",format:e=>e?m.Ru.trd(e):"-",align:"left",sortable:!0},{name:"actions",label:m.Ru.tr("isite.cms.form.actions"),align:"right"}],requestParams:{include:"form,assignedTo,files",filter:{order:{field:"created_at",way:"desc"}}},filters:{formId:{value:null,type:"select",props:{label:m.Ru.tr("iforms.cms.form.form"),clearable:!0},loadOptions:{apiRoute:"apiRoutes.qform.forms",select:{label:"title",id:"id"}}}},actions:[{name:"viewLead",icon:"fas fa-eye",color:"info",tooltip:m.Ru.tr("isite.cms.label.view"),action:e=>{l.value.lead=e,l.value.show=!0}}]},update:!0,delete:!1,formLeft:{id:{value:""},assignedToId:{value:null,type:"crud",props:{crudType:"select",crudData:a.e(9953).then(a.bind(a,59953)),crudProps:{label:`${m.Ru.trp("isite.cms.form.assignedTo")}`},config:{options:{label:"fullName",value:"id"}}}}}}))),o=(0,t.EW)((()=>m.M_.state.qcrudComponent.component[e]||{})),s=(0,t.EW)((()=>{const a=[];if(l.value.lead){const t=(0,m.o8)(l.value.lead.values||[]),i=(0,m.o8)(l.value.lead.files);(0,m.o8)(l.value.lead.form.fields).forEach((l=>{const d=l.dynamicField&&l.dynamicField.type||"input",o=t[l.name]||"-",s="media"!=d?null:i.find((e=>e.zone==o.split("/").pop()));a.push({...l,label:l.label,value:"media"!=d?o:[{id:e,...s,path:o,mediumThumb:o,filename:l.label}],fieldType:d})}))}return a}));return{crudId:e,modal:l,resetModal:i,crudData:d,crudInfo:o,showLeadItems:s}}const f={components:{fileList:s.A},setup(){return{...n()}}};var c=a(12807),p=a(54514),b=a(75329),v=a(63418),g=a(35779),h=a(98582),y=a.n(h);const R=(0,c.A)(f,[["render",o]]),k=R;y()(f,"components",{QList:p.A,QItem:b.A,QItemSection:v.A,QItemLabel:g.A})}}]);