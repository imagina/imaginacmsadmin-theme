"use strict";(globalThis["webpackChunkimagina_cms"]=globalThis["webpackChunkimagina_cms"]||[]).push([[3932],{83932:(e,t,i)=>{function s(e,t,i,s,a,l){return null}i.r(t),i.d(t,{default:()=>p});var a=i(16728),l=i(8932),r=i(18528)["c"];const u={data(){return{crudId:this.$uid(),buildType:null}},computed:{crudData(){return{crudId:this.crudId,entityName:r("main.qpage.entityNames.page"),apiRoute:"apiRoutes.qpage.pages",permission:"page.pages",extraFormFields:"Page.crud-fields.pages",create:{title:this.$tr("page.cms.newPage")},read:{columns:[{name:"id",label:this.$tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"title",label:this.$tr("isite.cms.form.title"),field:"title",align:"rigth"},{name:"slug",label:this.$tr("isite.cms.form.slug"),field:"slug",align:"left"},{name:"status",label:this.$tr("isite.cms.form.status"),field:"status",align:"left"},{name:"created_at",label:this.$tr("isite.cms.form.createdAt"),field:"createdAt",align:"left",format:e=>e?this.$trd(e):"-"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left"}],requestParams:{include:"qrs"},actions:[{name:"cleanCache",label:this.$tr("isite.cms.configList.clearCache"),icon:"fa-light fa-broom",action:e=>{a.c.get(e.url,{headers:{"icache-bypass":1},params:{},paramsSerializer:()=>""}),l.Qb.info(this.$tr("isite.cms.label.success"))}}]},update:{title:this.$tr("page.cms.updatePage"),requestParams:{include:"buildable"}},delete:!0,formLeft:{id:{value:""},userId:{value:this.$store.state.quserAuth.userId},template:{value:"default"},title:{value:"",type:"input",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.title")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},slug:{value:"",type:"input",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.slug")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},body:{value:"",type:"html",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.description")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},type:{value:"general",type:"select",name:"type",fakeFieldName:"buildable",props:{label:this.$tr("isite.cms.form.type"),readonly:!(this.$hasAccess("ibuilder.buildables.edit")||"update"!=this.crudInfo.typeForm),options:[{label:"General",value:"general"},...this.typeOptions]}},layoutBuilder:{value:null,type:"select",name:"layoutId",fakeFieldName:"buildable",props:{label:this.$tr("ibuilder.cms.form.layout"),clearable:!0},loadOptions:{apiRoute:"apiRoutes.qbuilder.layouts",select:{label:"title",id:"id"},requestParams:{filter:{type:this.crudInfo.buildable?.type??"",entity_type:"Modules\\Page\\Entities\\Page"}}}}},formRight:{status:{value:"1",type:"select",isTranslatable:!0,props:{label:this.$tr("isite.cms.form.status"),options:[{label:this.$tr("isite.cms.label.enabled"),value:"1"},{label:this.$tr("isite.cms.label.disabled"),value:"0"}]}},metaTitle:{value:"",isTranslatable:!0,type:"input",props:{label:this.$tr("isite.cms.form.metaTitle")}},metaDescription:{value:"",type:"input",isTranslatable:!0,props:{label:this.$tr("isite.cms.form.metaDescription"),type:"textarea",rows:3}},tags:{value:[],type:"select",props:{label:this.$trp("isite.cms.form.tag"),useInput:!0,useChips:!0,multiple:!0,hideDropdownIcon:!0,inputDebounce:"0",newValueMode:"add-unique"}},mediasSingle:{name:"mediasSingle",value:{},type:"media",props:{label:this.$tr("isite.cms.form.firstImage"),zone:"mainimage",entity:"Modules\\Page\\Entities\\Page",entityId:null}}},handleFormUpdates:(e,t,i)=>new Promise((i=>{e.buildable||i(e),1===t.length&&t.includes("buildable")&&this.buildType!==e.buildable?.type&&(e.buildable.layoutId=null,this.buildType=e.buildable?.type),i(e)}))}},crudInfo(){return this.$store.state.qcrudComponent.component[this.crudId]||{}},typeOptions(){let e=this.$store.getters["qsiteApp/getConfigApp"]("builder.layout",!0),t={};Object.keys(e).forEach((i=>{e[i]&&(t[i]=e[i])}));let i=Object.values(t).flat().find((e=>"Modules\\Page\\Entities\\Page"==e.entity.value));return i.types}}};var n=i(68716);const d=(0,n.c)(u,[["render",s]]),p=d}}]);