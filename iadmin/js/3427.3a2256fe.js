"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[3427],{63427:(e,t,s)=>{function i(e,t,s,i,a,r){return null}s.r(t),s.d(t,{default:()=>o});s(10239);var a=s(99526)["A"];const r={data(){return{crudId:this.$uid()}},computed:{crudData(){return{crudId:this.crudId,entityName:a("main.qcommerce.entityNames.product"),apiRoute:"apiRoutes.qcommerce.products",permission:"icommerce.products",extraFormFields:"Icommerce.crud-fields.products",create:{title:this.$tr("icommerce.cms.newProduct")},read:{columns:[{name:"id",label:this.$tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"name",label:this.$tr("isite.cms.form.title"),field:"name",style:"width: 50px",align:"rigth",sortable:!0},{name:"sku",label:this.$tr("isite.cms.form.sku"),field:"sku",align:"left"},{name:"category",label:this.$tr("isite.cms.form.category"),field:"category",align:"left",format:e=>e&&e.title?e.title:""},{name:"status",label:this.$tr("isite.cms.form.status"),field:"status",align:"left"},{name:"quantity",label:this.$tr("isite.cms.form.stock"),field:"quantity",align:"left",format:e=>e?`${this.$tr("isite.cms.label.available")} (${e<=100?e:"100+"})`:this.$tr("isite.cms.label.soldOut")},{name:"slug",label:this.$tr("isite.cms.form.slug"),field:"slug",align:"left"},{name:"price",label:this.$tr("isite.cms.form.price"),field:"formattedPrice",align:"left"},{name:"createdAt",label:this.$tr("isite.cms.form.createdAt"),field:"createdAt",align:"left",format:e=>e?this.$trd(e):"-"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left"}],requestParams:{include:"category,qrs",filter:{order:{field:"id",way:"desc"}}},filters:{categories:{value:null,type:"treeSelect",props:{label:`${this.$tr("isite.cms.form.category")}:`,clearable:!0},loadOptions:{apiRoute:"apiRoutes.qcommerce.categories"}},manufacturers:{value:null,type:"select",props:{label:`${this.$tr("icommerce.cms.form.manufacturer")}:`,clearable:!0},loadOptions:{apiRoute:"apiRoutes.qcommerce.manufacturers",select:{label:"name",id:"id"}}},status:{value:null,type:"select",props:{label:`${this.$tr("isite.cms.form.status")}:`,clearable:!0,options:[{label:this.$tr("isite.cms.label.enabled"),value:1},{label:this.$tr("isite.cms.label.disabled"),value:0}]}},stockStatus:{value:null,type:"select",props:{label:`${this.$tr("isite.cms.form.stock")}:`,clearable:!0,options:[{label:this.$tr("isite.cms.label.available"),value:1},{label:this.$tr("isite.cms.label.soldOut"),value:0}]}},soonToSoldOut:{value:!1,type:"checkbox",props:{label:`${this.$tr("icommerce.cms.form.soonToSoldOut")}`}},withDiscount:{value:!1,type:"checkbox",props:{label:`${this.$tr("icommerce.cms.form.withDiscount")}`}}},actions:[{icon:"fa-light fa-arrow-right-to-arc",color:"info",tooltip:this.$tr("icommerce.cms.message.viewProduct"),action:e=>{this.$helper.openExternalURL(e.url)}},{icon:"fa-light fa-pen-to-square",color:"info",tooltip:this.$tr("icommerce.cms.message.advanceEdit"),action:e=>{this.$router.push({name:"qcommerce.admin.products.edit",params:{id:e.id}})}}]},update:{title:this.$tr("icommerce.cms.updateProduct")},delete:!0,formLeft:{id:{value:""},banner:{type:"banner",props:{color:"info",icon:"fas fa-exclamation-triangle",message:"create"==this.crudInfo.typeForm?this.$tr("isite.cms.message.createFormProduct"):this.$tr("isite.cms.message.editFormProduct"),actions:[{props:{label:this.$tr("icommerce.cms.message.advanceEdit")},action:()=>{"create"===this.crudInfo.typeForm?this.$router.push({name:"qcommerce.admin.products.create"}):this.$router.push({name:"qcommerce.admin.products.edit",params:{id:this.crudInfo.id}})}}]}},name:{value:"",type:"input",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.name")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},summary:{value:"",type:"input",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.summary")}*`,type:"textarea",rows:"3",rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},status:{value:"1",type:"select",props:{label:`${this.$tr("isite.cms.form.status")}:`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],options:[{label:this.$tr("isite.cms.label.enabled"),value:1},{label:this.$tr("isite.cms.label.disabled"),value:0}]}},categoryId:{value:null,type:"crud",props:{crudType:"select",crudData:s.e(1047).then(s.bind(s,61047)),customData:{read:{requestParams:{include:"parent",refresh:!0}}},crudProps:{label:`${this.$tr("isite.cms.form.category")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]},config:{filterByQuery:!0,options:{id:"id",label:"title",sublabel:e=>e.parent?.title||null}}}},price:{value:"0",type:"input",props:{label:`${this.$tr("isite.cms.form.price")}`,type:"number"}},mediasSingle:{type:"media",props:{label:this.$tr("isite.cms.form.image"),zone:"mainimage",entity:"Modules\\Icommerce\\Entities\\Product",entityId:null}}},getDataForm:(e,t)=>new Promise((s=>{if("create"==t){const t=this.$store.state?.qsiteApp?.selectedLocales;for(const s of t)e[s].slug=this.$helper.getSlug(e[s].name)}s(e)}))}},crudInfo(){return this.$store.state.qcrudComponent.component[this.crudId]||{}}}};var l=s(12807);const c=(0,l.A)(r,[["render",i]]),o=c}}]);