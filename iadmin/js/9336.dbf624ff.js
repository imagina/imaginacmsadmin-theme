"use strict";(globalThis["webpackChunkimagina_cms"]=globalThis["webpackChunkimagina_cms"]||[]).push([[9336],{9336:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var a=i(92444);function s(e,t,s,l,r,o){const c=(0,a.E1)("crud"),m=(0,a.E1)("master-modal");return(0,a.Wz)(),(0,a.An)("div",null,[(0,a.K2)(m,{modelValue:r.modalActivities.show,"onUpdate:modelValue":t[0]||(t[0]=e=>r.modalActivities.show=e),title:o.actsCrud.title,"custom-position":"",onHide:t[1]||(t[1]=e=>r.modalActivities.category=null)},{default:(0,a.Ql)((()=>[r.modalActivities.category?((0,a.Wz)(),(0,a.Az)(c,{key:0,"crud-data":i.e(5636).then(i.bind(i,95636)),"custom-data":o.actsCrud.customData},null,8,["crud-data","custom-data"])):(0,a.g1)("",!0)])),_:1},8,["modelValue","title"])])}var l=i(18528)["c"];const r={data(){return{crudId:this.$uid(),modalActivities:{show:!1,category:null}}},computed:{crudData(){return{crudId:this.crudId,entityName:l("main.qgamification.entityNames.category"),apiRoute:"apiRoutes.qgamification.categories",permission:"igamification.categories",extraFormFields:"igamification.crud-fields.categories",create:{title:this.$tr("igamification.cms.newCategory")},read:{columns:[{name:"id",label:this.$tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"name",label:this.$tr("isite.cms.form.title"),field:"title",align:"rigth"},{name:"systemName",label:this.$tr("isite.cms.form.systemName"),field:"systemName",align:"left"},{name:"status",label:this.$tr("isite.cms.form.status"),field:"status",align:"left"},{name:"activities",label:this.$trp("isite.cms.label.activity"),field:"activities",align:"left",format:e=>`${this.$trp("isite.cms.label.activity")}(${e?e.length:0})`,action:this.manageCategoryActivities},{name:"created_at",label:this.$tr("isite.cms.form.createdAt"),field:"createdAt",align:"left",format:e=>e?this.$trd(e):"-"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left"}],requestParams:{include:"activities"},filters:{parentId:{value:null,type:"treeSelect",props:{clearable:!0,label:this.$tr("isite.cms.form.parent")},loadOptions:{apiRoute:"apiRoutes.qgamification.categories",requestParams:{filter:{status:1}}}}},actions:[{icon:"fal fa-dice",tooltip:this.$trp("isite.cms.label.activity"),action:this.manageCategoryActivities}]},update:{title:this.$tr("igamification.cms.updateCategory"),requestParams:{include:"parent,fields"}},delete:!0,formLeft:{id:{value:""},userId:{value:this.$store.state.quserAuth.userId},title:{value:"",type:"input",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.title")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},systemName:{value:"",type:"input",props:{label:`${this.$tr("isite.cms.form.systemName")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},summary:{value:"",type:"input",isTranslatable:!0,props:{label:this.$tr("isite.cms.label.summary")}},description:{value:"",type:"html",isTranslatable:!0,props:{label:`${this.$tr("isite.cms.form.description")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}}},formRight:{status:{value:"1",type:"select",props:{label:`${this.$tr("isite.cms.form.status")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],options:[{label:this.$tr("isite.cms.label.enabled"),value:1},{label:this.$tr("isite.cms.label.disabled"),value:0}]}},parentId:{value:0,type:"treeSelect",props:{label:this.$tr("isite.cms.form.parent"),options:[{label:this.$tr("isite.cms.label.disabled"),id:0}]},loadOptions:{apiRoute:"apiRoutes.qgamification.categories",select:{label:"title",id:"id"},requestParams:{include:"parent",filter:{status:1}}}},icon:{value:"fas fa-gamepad",type:"selectIcon",isFakeField:!0,props:{label:this.$tr("isite.cms.form.icon")}},categoryView:{value:"card",type:"select",isFakeField:!0,props:{label:`${this.$tr("igamification.cms.label.categoryView")}*`,rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],options:[{label:"Card",value:"card"},{label:"Button",value:"button"},{label:"Popup",value:"popup"}]}},slug:{value:"",type:"input",props:{label:"slug*",rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")]}},mediasSingle:{name:"mediasSingle",value:{},type:"media",props:{label:this.$tr("isite.cms.form.firstImage"),zone:"mainimage",entity:"Modules\\Igamification\\Entities\\Category",entityId:null}}}}},crudInfo(){return this.$store.state.qcrudComponent.component[this.crudId]||{}},actsCrud(){const e=this.modalActivities.category?.id||null,t={title:this.modalActivities.category?.title||"",customData:{read:{showAs:"drag",drag:{title:{field:"title"},subTitle:{field:"typeName"}},noFilter:!0,requestParams:{include:"",filter:{categoryId:e,order:{field:"position",way:"asc"}}}},formRight:{categoryId:{value:e,type:"select",props:{label:this.$tr("isite.cms.form.category")+"*",readonly:!0},loadOptions:{apiRoute:"apiRoutes.qgamification.categories",requestParams:{include:"parent"}}},categories:{value:[e],type:"select",props:{label:this.$trp("isite.cms.form.category"),multiple:!0,readonly:!0},loadOptions:{apiRoute:"apiRoutes.qgamification.categories",requestParams:{include:"parent"}}}}}};return t}},methods:{manageCategoryActivities(e){this.modalActivities={show:!0,category:e}}}};var o=i(68716);const c=(0,o.c)(r,[["render",s]]),m=c}}]);