"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[7632],{33136:(n,a,e)=>{e.r(a),e.d(a,{default:()=>D});var t=e(92444);function s(n,a,e,s,c,i){const o=(0,t.E1)("quick-card");return(0,t.Wz)(),(0,t.Az)(o,{params:i.quickCardParams},null,8,["params"])}var c=e(90940),i=e(74044),o=e(264);const r={class:"row"},l={class:"col-12 text-center q-pa-md"},d={class:"row"},u={class:"col-12 text-center q-pa-md"},y={key:0},m=(0,t.QD)("p",null,"We are working on the sync, we'll notify you when finished",-1),p={key:1,class:"text-bold"},g={key:2};function b(n,a,e,s,c,b){const k=(0,t.E1)("q-btn"),S=(0,t.E1)("q-icon");return(0,t.wt)(((0,t.Wz)(),(0,t.An)("div",null,[(0,t.QD)("div",r,[(0,t.QD)("div",l,[(0,t.K2)(k,{onClick:n.markAsSync,loading:n.loadingButton,disable:n.disableButton,"icon-right":n.icon,"no-caps":"",label:e.cardParams.buttonLabel,size:"md"},null,8,["onClick","loading","disable","icon-right","label"])])]),(0,t.QD)("div",d,[(0,t.QD)("div",u,[n.disableButton?((0,t.Wz)(),(0,t.An)("div",y,[(0,t.K2)(S,{name:"warning",color:"warning",size:"sm"}),m])):(0,t.g1)("",!0),n.lastSync?((0,t.Wz)(),(0,t.An)("div",p,[(0,t.QD)("p",null,"Last Sync: "+(0,i.WA)(n.lastSync),1)])):(0,t.g1)("",!0),n.syncedByName?((0,t.Wz)(),(0,t.An)("div",g," by "+(0,i.WA)(n.syncedByName),1)):(0,t.g1)("",!0)])])],512)),[[o.Ub,!e.loading]])}var k=e(75836),S=e(20584),f=e(17072),h=e(8932);function q(n){let a=(0,k.cB)({disable:!1,loading:!1});(0,t.S6)((()=>{!n.items||n.items}));const e=(0,t.S6)((()=>a.loading)),s=(0,t.S6)((()=>1==n.items?.plainValue)),c=(0,t.S6)((()=>a.disable||s.value)),i=(0,t.S6)((()=>n.items?.options?.lastSync?n.items.options.lastSync:"")),o=(0,t.S6)((()=>n.items?.options?.syncedByName?n.items.options.syncedByName:"")),r=(0,t.S6)((()=>c.value?"fa-light fa-sync fa-spin":"fa-light fa-sync"));function l(){return new Promise((async(e,t)=>{a.loading=!0,a.disable=!0,S.c.create(n.cardParams.syncApiRoute,n.cardParams.syncRequestParams).then((n=>{a.loading=!1})).catch((n=>{f.c.handleError(n,(()=>{h.Qb.error(n),e(n)}))}))}))}return{disableButton:c,loadingButton:e,lastSync:i,markAsSync:l,isSyncing:s,icon:r,syncedByName:o}}const w={name:"syncCard",setup(n){return{...q(n)}},props:{loading:Boolean,cardParams:{type:Object,default:()=>{}}}};var v=e(68716),B=e(99140),A=e(58120),P=e(95252),C=e.n(P);const Q=(0,v.c)(w,[["render",b]]),W=Q;C()(w,"components",{QBtn:B.c,QIcon:A.c});const z={name:"workdaySync",props:{},components:{quickCard:c.c,syncCard:W},watch:{},mounted(){this.$nextTick((function(){}))},data(){return{loading:!1}},computed:{quickCardParams(){return{type:"custom",title:"Workday Sync",icon:"fa-light fa-briefcase",apiRoute:"apiRoutes.qsetupagione.workdaySync",requestParams:{filter:{field:"name"}},syncApiRoute:"apiRoutes.qsetupagione.workdaySyncPost",syncRequestParams:{},component:W,buttonLabel:"Sync"}}},methods:{}},R=(0,v.c)(z,[["render",s]]),D=R}}]);