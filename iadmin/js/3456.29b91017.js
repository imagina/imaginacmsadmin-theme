"use strict";(globalThis["webpackChunkimagina_cms"]=globalThis["webpackChunkimagina_cms"]||[]).push([[3456],{83456:(n,t,e)=>{e.r(t),e.d(t,{default:()=>g});var r=e(92444);function i(n,t,i,o,l,s){var a=(0,r.E1)("crud"),u=(0,r.E1)("inner-loading");return(0,r.Wz)(),(0,r.An)("div",null,[n.columns?((0,r.Wz)(),(0,r.Az)(a,{key:0,"crud-data":e.e(7144).then(e.bind(e,7144)),"custom-data":{read:{columns:n.columns}}},null,8,["crud-data","custom-data"])):(0,r.g1)("",!0),(0,r.K2)(u,{visible:!n.columns},null,8,["visible"])])}var o=e(75836),l=e(20584);const s={getSensors:function(){return new Promise((function(n,t){l.c.index("apiRoutes.qtelemetry.sensors",{refresh:!0}).then((function(t){n(t.data)})).catch((function(n){return t(n)}))}))}};var a=e(8932),u=function(){return u=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},u.apply(this,arguments)},c=function(n,t,e){if(e||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))};function f(n,t){(0,r._S)().appContext.config.globalProperties;var e={},i=(0,o.cB)({defaultCols:[{name:"id",label:a._s.tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"device",label:a._s.tr("itelemetry.cms.device"),field:"device",align:"rigth",format:function(n){return n&&(null===n||void 0===n?void 0:n.title)?n.title:"-"}},{name:"created_at",label:a._s.tr("isite.cms.form.createdAt"),field:"createdAt",align:"left",format:function(n){return n?a._s.trd(n):"-"}}],columns:null,sensors:null}),l={},f={init:function(){f.getSensors().then((function(n){i.columns=f.getColumns()}))},getSensors:function(){return new Promise((function(n,t){s.getSensors().then((function(t){i.sensors=t,n(t)}))}))},getColumns:function(){var n=i.sensors.map((function(n){return{name:"sensor_".concat(n.id),field:"logs",label:n.title,align:"center",format:function(t){if(t){var e=t.find((function(t){return t.sensorId==n.id}));if(e&&(null===e||void 0===e?void 0:e.value))return e.value}return"-"}}}));return c(c([],i.defaultCols,!0),n,!0)}};return(0,r.u2)((function(){f.init()})),u(u(u(u({},e),(0,o.kx)(i)),l),f)}const d=(0,r._M)({setup:function(n,t){var e=t.emit;return f(n,e)}});var m=e(68716);const v=(0,m.c)(d,[["render",i]]),g=v}}]);